<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" type="text/css" href="index.css">
  <title>Kenny's Baby</title>
</head>
<body>
  <table class="header">
    <tbody>
      <tr>
        <td>
          <img class="avatar" alt="ç‹æ˜­ç„¶" src="./images/avatar.jpg">
          <h1>
            <ruby>ç‹<rt>wÃ¡ng</rt></ruby>
            <ruby>æ˜­<rt>zhÄo</rt></ruby>
            <ruby>ç„¶<rt>rÃ¡n</rt></ruby>
          </h1>
          <p>2018å¹´7æœˆ30æ—¥(æˆŠæˆŒå¹´å…­æœˆåå…« ä¸‘æ—¶ 01:53)</p>
          <p>3700g / 50cm <span id="age"></span></p>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="photo">
    <div>
      <h2>Day 3 <sup>2018-08-01</sup></h2>
      <img alt="ç‹æ˜­ç„¶" src="images/day3.jpg" />
      <p>çŸ¥é“å—ï¼Ÿä½ å‡ºç”Ÿç¬¬ä¸‰å¤©äº†ï¼ŒçœŸä¸å®¹æ˜“ï¼Œå› ä¸ºè¿™æ˜¯ç¬¬ä¸‰æ¬¡çˆ†å‡ºæ¯’ç–«è‹—äº‹ä»¶ï¼Œè·ç¦»ç¬¬ä¸€æ¬¡æ›å…‰å·²ç»è¿‡å»å…«å¹´äº†ï¼Œä¾ç„¶æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„è§£å†³ï¼Œè€çˆ¸å¾ˆæ‹…å¿ƒä½†æ˜¯åˆæ— èƒ½ä¸ºåŠ›ï¼Œåªèƒ½ç¥ç¦ä½ å¹¸è¿çš„å¥åº·æˆé•¿ã€‚</p>
    </div>
    <div>
      <h2>Day 2 <sup>2018-07-31</sup></h2>
      <img alt="ç‹æ˜­ç„¶" src="images/day2.jpg" />
      <p>æ¢ä¸Šæ–°è¡£æœï¼Œå‡ºé™¢å’¯ã€‚</p>
    </div>
    <div>
      <h2>Day 1 <sup>2018-07-30</sup></h2>
      <img alt="ç‹æ˜­ç„¶" src="images/day1.jpg" />
      <p>å†…å¿ƒçš„æ¿€åŠ¨æ— ä»¥è¨€è¡¨ï¼Œçœ¼ç›ç›´ç›¯ç€å®å®ï¼Œçœ‹ä¸Šå»é™¤äº†å˜´ï¼Œå…¶å®ƒçš„åœ°æ–¹å¥½ä¸‘å“¦ã€‚ğŸ˜†</p>
    </div>
  </div>
  <div class="footer">
    Â© <a target="_blank" href="https://jaywcjlove.github.io/">Kenny Wong</a> 2018-present
  </div>
  <script>
    function getAge(beginStr, endStr) {
      var reg = new RegExp(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})(\s)(\d{1,2})(:)(\d{1,2})(:{0,1})(\d{0,2})$/);
      var beginArr = beginStr.match(reg);
      endStr = endStr.getFullYear() + '-'
        + (endStr.getMonth() + 1 > 9 ? endStr.getMonth() + 1 : '0' + (endStr.getMonth() + 1)) + '-'
        + (endStr.getDate() > 9 ? endStr.getDate() : '0' + endStr.getDate()) + ' '
        + (endStr.getHours() > 9 ? endStr.getHours() : '0' + endStr.getHours()) + ':'
        + (endStr.getMinutes() > 9 ? endStr.getMinutes() : '0' + endStr.getMinutes()) + ':'
        + (endStr.getSeconds() > 9 ? endStr.getSeconds() : '0' + endStr.getSeconds());
      var endArr = endStr.match(reg);

      var days = 0;
      var month = 0;
      var year = 0;

      days = endArr[4] - beginArr[4];
      if (days < 0) {
        month = -1;
        days = 30 + days;
      }

      month = month + (endArr[3] - beginArr[3]);
      if (month < 0) {
        year = -1;
        month = 12 + month;
      }

      year = year + (endArr[1] - beginArr[1]);

      var yearString = year > 0 ? year + "å²" : "";
      var mnthString = month > 0 ? month + "æœˆ" : "";
      var dayString = days > 0 ? days + "å¤©" : "";

      /*
       * 1 å¦‚æœå² å¤§äºç­‰äº1 é‚£ä¹ˆå¹´é¾„å– å‡ å²
       * 2 å¦‚æœ å²ç­‰äº0 ä½†æ˜¯æœˆå¤§äº1 é‚£ä¹ˆå¦‚æœå¤©ç­‰äº0 å¤©å°äº3å¤© å–å°æ—¶
       * ä¾‹å¦‚å‡ºç”Ÿ2å¤© å°±å– 48å°æ—¶
       */
      var result = "";
      if (year >= 1) {
        result = yearString + mnthString;
      } else {
        if (month >= 1) {
          result = days > 0 ? mnthString + dayString : mnthString;
        } else {
          var begDate = new Date(beginArr[1], beginArr[3] - 1,
            beginArr[4], beginArr[6], beginArr[8], beginArr[10]);
          var endDate = new Date(endArr[1], endArr[3] - 1, endArr[4],
            endArr[6], endArr[8], endArr[10]);

          var between = (endDate.getTime() - begDate.getTime()) / 1000;
          days = Math.floor(between / (24 * 3600));
          var hours = Math.floor(between / 3600 - (days * 24));
          var dayString = days > 0 ? days + "å¤©" : "";
          result = days >= 3 ? dayString : days * 24 + hours + "å°æ—¶";
        }
      }

      return result;
    }
    document.getElementById('age').innerHTML = getAge("2018-07-30 01:53:00", new Date());
  </script>
</body>
</html>